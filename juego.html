<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>¬øQu√© har√≠as t√∫? - Juego √âtico</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700;900&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --bg: #000000;
      --gold: #d4af37;
      --text: #ffffff;
      --subtle: #cccccc;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 40px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h2 {
      color: var(--gold);
      margin-bottom: 20px;
      text-align: center;
    }

    #chat {
      background: #111;
      border: 1px solid var(--gold);
      border-radius: 12px;
      padding: 20px;
      max-width: 600px;
      width: 100%;
      max-height: 400px;
      overflow-y: auto;
      margin-bottom: 30px;
    }

    .btn {
      display: inline-block;
      padding: 12px 24px;
      background: transparent;
      color: var(--gold);
      border: 2px solid var(--gold);
      border-radius: 25px;
      font-weight: 700;
      text-decoration: none;
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
      cursor: pointer;
    }

    .btn:hover {
      background: var(--gold);
      color: #000;
      box-shadow: 0 0 10px var(--gold);
    }

    .btn-opcion {
      background: var(--gold);
      color: #000;
      border: none;
      padding: 10px 15px;
      border-radius: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .btn-opcion:hover {
      transform: scale(1.05);
    }

    #resultado {
      text-align: center;
      margin-top: 30px;
    }

    #insignia-final {
      font-size: 4rem;
      color: var(--gold);
      margin-top: 20px;
      display: none;
    }

    .volver {
      margin-top: 30px;
      text-align: center;
    }
  </style>
</head>

<body>

  <h2>üéÆ ¬øQu√© har√≠as t√∫?</h2>

  <!-- Pantalla de inicio -->
  <div id="pantalla-inicio" style="text-align: center;">
    <p style="color: var(--subtle); margin-bottom: 20px;">
      10 situaciones, 10 decisiones. ¬øLograr√°s la Insignia Dorada de Integridad?
    </p>
    <button class="btn" onclick="iniciarJuego()">Comenzar</button>
  </div>

  <!-- Chat del juego -->
  <div id="chat" style="display: none;"></div>

  <!-- Resultado final -->
  <div id="resultado" style="display: none;">
    <div id="mensaje-final" style="color: var(--gold); font-size: 1.5rem; margin-bottom: 20px;"></div>
    <div id="insignia-final">üèÖ</div>
    <div class="volver">
      <a href="index.html" class="btn">Volver al inicio</a>
    </div>
  </div>

  <script>
  const situaciones = [
    {
      texto: "Tu jefe te dice: 'üìÑ Firm√° este informe, despu√©s lo revisamos.' Vos no lo le√≠ste a√∫n.",
      opciones: [
        { texto: "ü§∑‚Äç‚ôÇÔ∏è Firmo, total es r√°pido.", valor: -1 },
        { texto: "üßê Prefiero leerlo antes, ¬øte parece?", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå Al d√≠a siguiente salt√≥ un error grave y todos vieron tu firma.",
        "1": "‚úÖ Tu jefe respet√≥ tu prudencia y el informe sali√≥ impecable."
      }
    },
    {
      texto: "Un compa√±ero te pasa su parte del trabajo y tiene copy-pego sin citar.",
      opciones: [
        { texto: "üôà Ni me meto, no es mi problema.", valor: -1 },
        { texto: "‚úçÔ∏è Le aviso para que lo cite antes de entregar.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå El detector de plagio lo descubri√≥ y tu equipo qued√≥ mal parado.",
        "1": "‚úÖ Tu compa√±ero lo arregl√≥ a tiempo y agradeci√≥ tu aviso."
      }
    },
    {
      texto: "Te ofrecen un regalo caro si prioriz√°s a cierto cliente antes que a los dem√°s.",
      opciones: [
        { texto: "üéÅ Acepto, nadie se va a enterar.", valor: -1 },
        { texto: "üö´ Gracias, pero trabajo con igualdad para todos.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå El cliente se jact√≥ en redes y la empresa recibi√≥ una denuncia.",
        "1": "‚úÖ Tu jefe te felicit√≥ por mantener la equidad y confianza."
      }
    },
    {
      texto: "Si un amigo te pide que ocultes un error, ¬øqu√© har√≠as?",
      opciones: [
        { texto: "ü§ù Acceder, es mi amigo.", valor: -1 },
        { texto: "üó£Ô∏è Hablar con √©l sobre la √©tica.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå El error sali√≥ a la luz y afect√≥ a todos.",
        "1": "‚úÖ Tu amigo te agradeci√≥ por ser honesto."
      }
    },
    {
      texto: "Si te ofrecen un ascenso a cambio de comprometer tus valores, ¬øqu√© har√≠as?",
      opciones: [
        { texto: "üèÜ Aceptar el ascenso.", valor: -1 },
        { texto: "üö∑ Rechazar la oferta.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå Perdiste la confianza de tus colegas.",
        "1": "‚úÖ Tu integridad te abri√≥ otras oportunidades."
      }
    },
    {
      texto: "Un cliente te pide que hagas algo poco √©tico para cerrar una venta.",
      opciones: [
        { texto: "üí∞ Acepto, es solo un negocio.", valor: -1 },
        { texto: "üö´ No, prefiero perder la venta.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå La empresa se meti√≥ en problemas legales.",
        "1": "‚úÖ Tu √©tica profesional fue reconocida."
      }
    },
    {
      texto: "Si ves a un compa√±ero robando, ¬øqu√© har√≠as?",
      opciones: [
        { texto: "üëÅÔ∏è Ignorar, no es mi problema.", valor: -1 },
        { texto: "üö® Reportar la situaci√≥n.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå El problema se agrav√≥ y afect√≥ a todos.",
        "1": "‚úÖ Hiciste lo correcto y ayudaste a la empresa."
      }
    },
    {
      texto: "Si encuentras informaci√≥n confidencial en tu computadora, ¬øqu√© har√≠as?",
      opciones: [
        { texto: "ü§´ Ignorar y seguir trabajando.", valor: -1 },
        { texto: "üîí Reportar el hallazgo.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå La informaci√≥n fue mal utilizada.",
        "1": "‚úÖ Tu acci√≥n evit√≥ un gran problema."
      }
    },
    {
      texto: "¬øEs correcto mentir para proteger los sentimientos de alguien?",
      opciones: [
        { texto: "ü§∑‚Äç‚ôÇÔ∏è S√≠, a veces es necesario.", valor: -1 },
        { texto: "üó£Ô∏è No, siempre hay que ser honesto.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå La verdad sali√≥ a la luz y da√±√≥ la relaci√≥n.",
        "1": "‚úÖ La honestidad fortaleci√≥ la confianza."
      }
    },
    {
      texto: "Si un cliente te ofrece un soborno, ¬øqu√© har√≠as?",
      opciones: [
        { texto: "üíµ Aceptar el soborno, nadie se entera.", valor: -1 },
        { texto: "üö´ Rechazarlo, es poco √©tico.", valor: +1 }
      ],
      feedback: {
        "1": "‚ùå Te atraparon y enfrentaste consecuencias.",
        "1": "‚úÖ Mantuviste tu integridad profesional."
      }
    }
  ];

  let paso = 0;
  let puntaje = 0;

  function iniciarJuego() {
    document.getElementById("pantalla-inicio").style.display = "none";
    document.getElementById("chat").style.display = "block";
    mostrarSituacion();
  }

  function mostrarSituacion() {
    const sit = situaciones[paso];
    const chat = document.getElementById("chat");
    chat.innerHTML += crearBurbuja(sit.texto, "sistema");

    sit.opciones.forEach((op) => {
      chat.innerHTML += crearBurbuja(`<button class="btn-opcion" onclick="elegir(${op.valor})">${op.texto}</button>`, "opcion");
    });

    chat.scrollTop = chat.scrollHeight;
  }

  function crearBurbuja(texto, tipo) {
    const color = tipo === "sistema" ? "#d4af37" : "#fff";
    const align = tipo === "sistema" ? "left" : "right";
    return `
      <div style="margin: 10px 0; text-align: ${align};">
        <span style="background: ${tipo === "sistema" ? "#222" : "#d4af37"}; color: ${tipo === "sistema" ? color : "#000"}; padding: 10px 15px; border-radius: 18px; display: inline-block; max-width: 70%;">
          ${texto}
        </span>
      </div>
    `;
  }

  function elegir(valor) {
    const sit = situaciones[paso];
    const chat = document.getElementById("chat");

    const mensaje = sit.feedback[valor];

    if (!mensaje) {
      console.warn("‚ö†Ô∏è No existe feedback para la clave:", valor);
      return;
    }

    chat.innerHTML += crearBurbuja(mensaje, "sistema");
    puntaje += parseInt(valor); // Vuelve a convertir a n√∫mero para sumar al puntaje
    paso++;

    if (paso < situaciones.length) {
      setTimeout(mostrarSituacion, 1500);
    } else {
      setTimeout(() => {
        mostrarResultado();
        if (puntaje === 10) localStorage.setItem("insigniaEtica", "true");
      }, 1500);
    }
    chat.scrollTop = chat.scrollHeight;
  }

  function mostrarResultado() {
    document.getElementById("chat").style.display = "none";
    document.getElementById("resultado").style.display = "block";
    
    const porcentaje = (puntaje / situaciones.length) * 100;
    let msg = `Eres ${porcentaje.toFixed(2)}% √©tico. `;

    if (puntaje < 3) {
      msg += "‚ö†Ô∏è Reflexion√° sobre tus decisiones.";
    } else if (puntaje < 7) {
      msg += "üí° Buen camino, pero pod√©s mejorar.";
    } else {
      msg += "üéâ ¬°Insignia Dorada de Integridad obtenida!";
      document.getElementById("insignia-final").style.display = "inline-block";
    }

    document.getElementById("mensaje-final").innerText = msg;
  }
  </script>

</body>
</html>
